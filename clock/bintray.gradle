task bintrayDelete << {
    def deleteUrl = ['curl', '-u',
                     bintrayUser + ':' + bintrayApiKey,
                     '-X',
                     'DELETE',
                     "https://api.bintray.com/packages/trunkplatform/trunk-java-utils/clock/versions/${version}/"].execute()

    println("delete: " + deleteUrl.text)
}

bintray {
    user = bintrayUser
    key = bintrayApiKey

    publications = ['mavenJava']

    dryRun = false //Whether to run this as dry-run, without deploying
    publish = true //If version should be auto published after an upload
    pkg {
        repo = 'trunk-java-utils'
        userOrg = 'trunkplatform'
        name = 'clock'
        desc = 'Joda clock implementation based on timezone'
        websiteUrl = 'https://github.com/Trunkplatform/trunk-java-utils'
        issueTrackerUrl = 'https://github.com/Trunkplatform/trunk-java-utils/issues'
        vcsUrl = 'https://github.com/Trunkplatform/trunk-java-utils.git'
        licenses = ['MIT']
        labels = ['java']
        publicDownloadNumbers = true
    }
}